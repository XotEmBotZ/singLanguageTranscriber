(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},70690:function(t,e,n){(function(){"use strict";function t(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var e,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t},o=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function i(t,e){if(e)t:{var n=o;t=t.split(".");for(var i=0;i<t.length-1;i++){var a=t[i];if(!(a in n))break t;n=n[a]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}function a(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function s(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function u(t){if(t.i)throw TypeError("Generator is already running");t.i=!0}function l(t,e){t.h={F:e,G:!0},t.j=t.m}function c(t){this.g=new s,this.h=t}function h(t,e,n,r){try{var o=e.call(t.g.g,n);if(!(o instanceof Object))throw TypeError("Iterator result "+o+" is not an object");if(!o.done)return t.g.i=!1,o;var i=o.value}catch(e){return t.g.g=null,l(t.g,e),f(t)}return t.g.g=null,r.call(t.g,i),f(t)}function f(t){for(;t.g.j;)try{var e=t.h(t.g);if(e)return t.g.i=!1,{value:e.value,done:!1}}catch(e){t.g.o=void 0,l(t.g,e)}if(t.g.i=!1,t.g.h){if(e=t.g.h,t.g.h=null,e.G)throw e.F;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function d(t){this.next=function(e){return u(t.g),t.g.g?e=h(t,t.g.g.next,e,t.g.l):(t.g.l(e),e=f(t)),e},this.throw=function(e){return u(t.g),t.g.g?e=h(t,t.g.g.throw,e,t.g.l):(l(t.g,e),e=f(t)),e},this.return=function(e){var n;return u(t.g),(n=t.g.g)?h(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.g.return):(t.g.return(e),f(t))},this[Symbol.iterator]=function(){return this}}function g(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise(function(r,o){!function t(i){i.done?r(i.value):Promise.resolve(i.value).then(e,n).then(t,o)}(t.next())})}i("Symbol",function(t){function e(t,e){this.g=t,r(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0;return function t(r){if(this instanceof t)throw TypeError("Symbol is not a constructor");return new e(n+(r||"")+"_"+o++,r)}}),i("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<n.length;i++){var a=o[n[i]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&r(a.prototype,e,{configurable:!0,writable:!0,value:function(){var e;return(e={next:e=t(this)})[Symbol.iterator]=function(){return this},e}})}return e}),s.prototype.l=function(t){this.o=t},s.prototype.return=function(t){this.h={return:t},this.j=this.m},i("Promise",function(t){function e(t){this.h=0,this.i=void 0,this.g=[],this.o=!1;var e=this.j();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.g=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.h=function(t){if(null==this.g){this.g=[];var e=this;this.i(function(){e.l()})}this.g.push(t)};var i=o.setTimeout;n.prototype.i=function(t){i(t,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var t=this.g;this.g=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.j(t)}}}this.g=null},n.prototype.j=function(t){this.i(function(){throw t})},e.prototype.j=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.A),reject:t(this.l)}},e.prototype.A=function(t){if(t===this)this.l(TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.C(t);else{switch(typeof t){case"object":var n=null!=t;break;case"function":n=!0;break;default:n=!1}n?this.v(t):this.m(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){this.l(t);return}"function"==typeof e?this.D(e,t):this.m(t)},e.prototype.l=function(t){this.u(2,t)},e.prototype.m=function(t){this.u(1,t)},e.prototype.u=function(t,e){if(0!=this.h)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.h);this.h=t,this.i=e,2===this.h&&this.B(),this.H()},e.prototype.B=function(){var t=this;i(function(){if(t.I()){var e=o.console;void 0!==e&&e.error(t.i)}},1)},e.prototype.I=function(){if(this.o)return!1;var t=o.CustomEvent,e=o.Event,n=o.dispatchEvent;return void 0===n||("function"==typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"==typeof e?t=new e("unhandledrejection",{cancelable:!0}):(t=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,t),t.promise=this,t.reason=this.i,n(t))},e.prototype.H=function(){if(null!=this.g){for(var t=0;t<this.g.length;++t)s.h(this.g[t]);this.g=null}};var s=new n;return e.prototype.C=function(t){var e=this.j();t.s(e.resolve,e.reject)},e.prototype.D=function(t,e){var n=this.j();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{o(t(e))}catch(t){i(t)}}:e}var o,i,a=new e(function(t,e){o=t,i=e});return this.s(r(t,o),r(n,i)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.s=function(t,e){function n(){switch(r.h){case 1:t(r.i);break;case 2:e(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?s.h(n):this.g.push(n),this.o=!0},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var o=a(t),i=o.next();!i.done;i=o.next())r(i.value).s(e,n)})},e.all=function(t){var n=a(t),o=n.next();return o.done?r([]):new e(function(t,e){var i=[],a=0;do i.push(void 0),a++,r(o.value).s(function(e){return function(n){i[e]=n,0==--a&&t(i)}}(i.length-1),e),o=n.next();while(!o.done)})},e});var p="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};i("Object.assign",function(t){return t||p});var v=this||self,m={facingMode:"user",width:640,height:480};function y(t,e){this.video=t,this.i=0,this.h=Object.assign(Object.assign({},m),e)}y.prototype.stop=function(){var t,e,n=this;return g(new d(new c(function(r){if(n.g){for(e=(t=a(n.g.getTracks())).next();!e.done;e=t.next())e.value.stop();n.g=void 0}r.j=0})))},y.prototype.start=function(){var t,e=this;return g(new d(new c(function(n){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),t=e.h,n.return(navigator.mediaDevices.getUserMedia({video:{facingMode:t.facingMode,width:t.width,height:t.height}}).then(function(t){e.g=t,e.video.srcObject=t,e.video.onloadedmetadata=function(){e.video.play(),function t(e){window.requestAnimationFrame(function(){var n;n=null,e.video.paused||e.video.currentTime===e.i||(e.i=e.video.currentTime,n=e.h.onFrame()),n?n.then(function(){t(e)}):t(e)})}(e)}}).catch(function(t){var e="Failed to acquire camera feed: "+t;throw console.error(e),alert(e),t}))})))};var w=["Camera"],b=v;for((w[0]in b)||void 0===b.execScript||b.execScript("var "+w[0]);w.length&&(e=w.shift());)w.length||void 0===y?b=b[e]&&b[e]!==Object.prototype[e]?b[e]:b[e]={}:b[e]=y}).call(this)},65343:function(t,e,n){Promise.resolve().then(n.bind(n,14785))},14785:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var r=n(57437),o=n(2265),i=n(14799),a=n(42180),s=n(70690),u=n(95442),l=n.n(u),c=n(38),h=n(29556);function f(){let[t,e]=(0,o.useState)(""),[n,u]=(0,o.useState)(null),[f,d]=(0,o.useState)(!0),[g,p]=(0,o.useState)(null),[v,m]=(0,o.useState)(["control"]),y=(0,o.useRef)(null),w=(0,o.useRef)(null),b=(0,o.useRef)([]),j=(0,o.useRef)(null),k=null,x=null,S=(0,o.useRef)(["control","yes","no","thankYou","hello","iLoveYou","peace","please"]),O=async()=>{if(k&&x)try{let t=w.current.getContext("2d");t.clearRect(0,0,w.current.width,w.current.height);let e=k.detectForVideo(y.current,performance.now()),n=x.detectForVideo(y.current,performance.now()),r=new a.ET(t);if(e.landmarks)for(let t of e.landmarks)r.drawLandmarks(t);if(n.landmarks)for(let t of n.landmarks)r.drawLandmarks(t);let[o,s]=(0,h.X)(n,e);if(s&&j.current){let t=i.lub(()=>{let t=i.odF([o]),e=j.current.predict(t);return e.flatten().argMax().dataSync()[0]});m(S.current[t]),b.current.length>5&&b.current.shift(),b.current.push(S.current[t]),1==new Set(b.current).size&&v[-1]!=b.current[0]&&(console.clear(),v.push(b.current[0]),m(v),console.log(v))}}catch(t){console.warn(t);return}};return(0,o.useEffect)(()=>{(0,c.Z)(n,u,y),(0,h.M)("VIDEO").then(t=>{let[e,n]=t;k=e,x=n}),localStorage.getItem("customLabel")?(console.log("Start loading custom model"),i.FBF("localstorage://customModel").then(t=>{console.log("Custom model loaded"),j.current=t,S.current=JSON.parse(localStorage.getItem("customLabel"))})):localStorage.getItem("tensorflowjs_models/model/info")?i.YLj("localstorage://model").then(t=>{console.log("default model loaded"),j.current=t}):e("Model couldn't be loaded. Kindly refresh the page");let t=new s.Camera(y.current,{height:y.current.videoHeight,width:y.current.videoWidth,onFrame:O});f&&t.start(),p(t)},[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:b[0]}),(0,r.jsx)("h1",{children:t}),(0,r.jsxs)("div",{className:l().videoPlayer,children:[(0,r.jsx)("video",{className:"h-full w-full mx-auto",ref:y,autoPlay:!0,muted:!0}),(0,r.jsx)("canvas",{ref:w})]}),(0,r.jsx)("button",{onClick:()=>{let t=!f;t&&g.start(),t||g.stop(),d(t)},children:"Detect Toggle"})]})}var d=()=>((0,o.useEffect)(()=>{null===localStorage.getItem("model")&&i.YLj("/modelv2_web/model.json").then(t=>{t.save("localstorage://model"),console.log("Model saved to localstorage")})},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"Detect Signs"}),(0,r.jsx)(f,{})]}))},38:function(t,e,n){"use strict";async function r(t){try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});t(e)}catch(t){throw alert("Camera is disabled"),t}}async function o(t,e,n){if(t){let e=n.current;if(!e)return;e.srcObject||(e.srcObject=t)}else await r(e);console.log("Working here")}n.d(e,{Z:function(){return o}}),n(2265),n(42180),n(14799)},29556:function(t,e,n){"use strict";n.d(e,{M:function(){return s},X:function(){return u}}),n(2265);var r=n(42180);n(14799),n(38);let o=[];for(let t=0;t<32;t++)o.push(0),o.push(0),o.push(0);let i=o;o=[];for(let t=0;t<21;t++)o.push(0),o.push(0),o.push(0);let a=o,s=async t=>{let e=await r.n.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm"),n=await r.uq.createFromOptions(e,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/latest/hand_landmarker.task",delegate:"GPU"}});n.setOptions({runningMode:t,numHands:2});let o=await r.qe.createFromOptions(e,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/pose_landmarker/pose_landmarker_full/float16/latest/pose_landmarker_full.task",delegate:"GPU"}});return o.setOptions({runningMode:t,numPoses:1}),[n,o]},u=(t,e)=>{let n=!1,r=i;if(t.landmarks.length>0){let e=[];for(let n=0;n<33;n++){let r=t.landmarks[0][n];e.push(r.x),e.push(r.y),e.push(r.z)}r=e,n=!0}let o=a,s=a;if(e.handedness.length>0){let t=[],r=[];for(let n=0;n<e.handedness.length;n++){let o=e.handedness[n][0],i=e.landmarks[n];if("Left"===o.categoryName&&0==t.length)for(let e=0;e<21;e++){let n=i[e];t.push(n.x),t.push(n.y),t.push(n.z)}else if("Right"===o.categoryName&&0==r.length)for(let t=0;t<21;t++){let e=i[t];r.push(e.x),r.push(e.y),r.push(e.z)}}t.length&&(o=t),r.length&&(s=r),n=!0}return[[].concat(r,o,s),n]}},95442:function(t){t.exports={videoPlayer:"main_videoPlayer__CokUy"}}},function(t){t.O(0,[566,425,938,636,663,498,399,443,180,971,472,744],function(){return t(t.s=65343)}),_N_E=t.O()}]);