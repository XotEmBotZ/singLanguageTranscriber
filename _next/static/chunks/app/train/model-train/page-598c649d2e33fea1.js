(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},27957:function(e,t,n){Promise.resolve().then(n.bind(n,40763))},40763:function(e,t,n){"use strict";n.r(t);var r=n(57437),c=n(2265),s=n(14799),l=n(95416),a=n.n(l);t.default=()=>{let[e,t]=(0,c.useState)(!1),[n,l]=(0,c.useState)(.7),[i,u]=(0,c.useState)({}),o=(0,c.useRef)({}),d=(0,c.useRef)(0),h=(0,c.useRef)([]),p=(0,c.useRef)(null),g=(0,c.useRef)(null),j=(0,c.useRef)(null),f=(e,t)=>{let n=Array(e).fill(0);return n[t]=1,n},m=()=>{let e=[],t=[];h.current=Object.keys(o.current).sort(),h.current.forEach((n,r)=>{let c=o.current[n];e.push(...c),t.push(...Array(c.length).fill(f(h.current.length,r)))}),p.current=s.odF(e),g.current=s.odF(t),console.log(p.current.shape),console.log(g.current.shape)};(0,c.useEffect)(()=>{Object.keys(localStorage.getItem("trainData")).length&&(o.current=JSON.parse(localStorage.getItem("trainData"))),Object.keys(o.current).includes("control")&&(t(!0),d.current=o.current[Object.keys(o.current)[0]][0].length)},[]);let v=(e,t)=>{u(t)},x=()=>{j.current.save("localstorage://customModel"),localStorage.setItem("customLabel",JSON.stringify(h.current))},y=async()=>{m(),console.log(p.current.bufferSync()),console.log(g.current.bufferSync()),j.current=new s.sb5,j.current.add(s.ugM.dense({units:256,activation:"relu",inputShape:d.current})),j.current.add(s.ugM.dense({units:128,activation:"relu"})),j.current.add(s.ugM.dense({units:64,activation:"relu"})),j.current.add(s.ugM.dense({units:32,activation:"relu"})),j.current.add(s.ugM.dense({units:Object.keys(o.current).length,activation:"softmax"})),j.current.compile({optimizer:"adam",loss:"categoricalCrossentropy",metrics:["categoricalAccuracy"]}),j.current.summary(),console.log(j.current.fit(p.current,g.current,{epochs:200,validationSplit:.2,verbose:2,callbacks:{onEpochEnd:v,onTrainEnd:x}}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:a().title,children:"Collect data to train your model"}),Object.keys(o.current).length?(0,r.jsxs)("p",{children:["You have collected data in ",(0,r.jsx)("span",{children:Object.keys(o.current).join(", ")}),". Your custom model will only be able to detect this symbols"]}):"Loading",e?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)("p",{children:" Your data collection dosent have ‘control’ which is required to train the model"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Collected data"}),Object.keys(o.current).map((e,t)=>(0,r.jsxs)("p",{children:[e,":",o.current[e].length]},e+t)),(0,r.jsx)("h3",{children:"Model confuguration (Advance)"}),(0,r.jsxs)("p",{children:["Input shape = ",d.current]}),(0,r.jsxs)("p",{children:["Output shape = ",Object.keys(o.current).length]})]}),(0,r.jsxs)("div",{className:a().inputDiv,children:[(0,r.jsxs)("label",{htmlFor:"trainTestSplit",children:[(0,r.jsxs)("span",{children:["Train Test Split: ",parseInt(100*n),"%"]}),(0,r.jsx)("input",{type:"range",name:"trainTestSplit",id:"trainTestSplit",value:n,min:0,max:1,step:.01,onChange:e=>l(e.target.value)})]}),(0,r.jsx)("button",{onClick:y,children:"Train Data"})]}),(0,r.jsx)("div",{className:a().outputDiv,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:a().capturedTitle,children:"Model Statistics"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["Validation Loss:",100*i.val_loss,"%"]}),(0,r.jsxs)("p",{children:["Loss:",100*i.loss,"%"]}),(0,r.jsxs)("p",{children:["Validation Accuracy:",100*i.val_categoricalAccuracy,"%"]}),(0,r.jsxs)("p",{children:["Accuracy:",100*i.categoricalAccuracy,"%"]})]})]})})]})}},95416:function(e){e.exports={title:"train_title__dDPq7",inputDiv:"train_inputDiv__qh0io",outputDiv:"train_outputDiv__CShX8",capturedTitle:"train_capturedTitle___MzWT"}}},function(e){e.O(0,[566,425,938,636,663,498,399,443,971,472,744],function(){return e(e.s=27957)}),_N_E=e.O()}]);