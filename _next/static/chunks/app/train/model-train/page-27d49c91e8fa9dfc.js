(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},27957:function(t,e,n){Promise.resolve().then(n.bind(n,40763))},40763:function(t,e,n){"use strict";n.r(e);var i=n(57437),r=n(2265),c=n(14799),u=n(55029),o=n(95416),s=n.n(o);e.default=()=>{let[t,e]=(0,r.useState)(!1),[n,o]=(0,r.useState)(.7),[a,l]=(0,r.useState)({}),d=(0,r.useRef)({}),f=(0,r.useRef)(0),h=(0,r.useRef)([]),p=(0,r.useRef)(null),g=(0,r.useRef)(null),m=(0,r.useRef)(null),S=(t,e)=>{let n=Array(t).fill(0);return n[e]=1,n},j=()=>{let t=[],e=[];h.current=Object.keys(d.current).sort(),h.current.forEach((n,i)=>{let r=d.current[n];t.push(...r),e.push(...Array(r.length).fill(S(h.current.length,i)))}),p.current=c.odF(t),g.current=c.odF(e),console.log(p.current.shape),console.log(g.current.shape)};(0,r.useEffect)(()=>{Object.keys(localStorage.getItem("trainData")).length&&(d.current=JSON.parse(localStorage.getItem("trainData"))),Object.keys(d.current).includes("control")&&(e(!0),f.current=d.current[Object.keys(d.current)[0]][0].length)},[]);let x=(t,e)=>{l(e)},v=()=>{m.current.save("localstorage://customModel"),localStorage.setItem("customLabel",JSON.stringify(h.current)),u.notifications.show({message:"Your custom model is saved.",withCloseButton:!0,title:"Model Saved",color:"green"})},y=async()=>{j(),console.log(p.current.bufferSync()),console.log(g.current.bufferSync()),m.current=new c.sb5,m.current.add(c.ugM.dense({units:256,activation:"relu",inputShape:f.current})),m.current.add(c.ugM.dense({units:128,activation:"relu"})),m.current.add(c.ugM.dense({units:64,activation:"relu"})),m.current.add(c.ugM.dense({units:32,activation:"relu"})),m.current.add(c.ugM.dense({units:Object.keys(d.current).length,activation:"softmax"})),m.current.compile({optimizer:"adam",loss:"categoricalCrossentropy",metrics:["categoricalAccuracy"]}),m.current.summary(),console.log(m.current.fit(p.current,g.current,{epochs:200,validationSplit:.2,verbose:2,callbacks:{onEpochEnd:x,onTrainEnd:v}}))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:s().title,children:"Collect data to train your model"}),Object.keys(d.current).length?(0,i.jsxs)("p",{children:["You have collected data in ",(0,i.jsx)("span",{children:Object.keys(d.current).join(", ")}),". Your custom model will only be able to detect this symbols"]}):"Loading",t?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)("p",{children:" Your data collection dosent have ‘control’ which is required to train the model"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"Collected data"}),Object.keys(d.current).map((t,e)=>(0,i.jsxs)("p",{children:[t,":",d.current[t].length]},t+e)),(0,i.jsx)("h3",{children:"Model confuguration (Advance)"}),(0,i.jsxs)("p",{children:["Input shape = ",f.current]}),(0,i.jsxs)("p",{children:["Output shape = ",Object.keys(d.current).length]})]}),(0,i.jsxs)("div",{className:s().inputDiv,children:[(0,i.jsxs)("label",{htmlFor:"trainTestSplit",children:[(0,i.jsxs)("span",{children:["Train Test Split: ",parseInt(100*n),"%"]}),(0,i.jsx)("input",{type:"range",name:"trainTestSplit",id:"trainTestSplit",value:n,min:0,max:1,step:.01,onChange:t=>o(t.target.value)})]}),(0,i.jsx)("button",{onClick:y,children:"Train Data"})]}),(0,i.jsx)("div",{className:s().outputDiv,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:s().capturedTitle,children:"Model Statistics"}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:["Validation Loss:",(100*a.val_loss).toFixed(5),"%"]}),(0,i.jsxs)("p",{children:["Loss:",(100*a.loss).toFixed(5),"%"]}),(0,i.jsxs)("p",{children:["Validation Accuracy:",(100*a.val_categoricalAccuracy).toFixed(5),"%"]}),(0,i.jsxs)("p",{children:["Accuracy:",(100*a.categoricalAccuracy).toFixed(5),"%"]})]})]})})]})}},95416:function(t){t.exports={title:"train_title__dDPq7",inputDiv:"train_inputDiv__qh0io",outputDiv:"train_outputDiv__CShX8",capturedTitle:"train_capturedTitle___MzWT"}},77499:function(t,e,n){"use strict";function i(){return`mantine-${Math.random().toString(36).slice(2,11)}`}n.d(e,{k:function(){return i}})},55029:function(t,e,n){"use strict";n.r(e),n.d(e,{cleanNotifications:function(){return f},cleanNotificationsQueue:function(){return h},createNotificationsStore:function(){return c},hideNotification:function(){return l},notifications:function(){return p},notificationsStore:function(){return u},showNotification:function(){return a},updateNotification:function(){return d},updateNotificationsState:function(){return s},useNotifications:function(){return o}});var i=n(77499),r=n(2265);let c=()=>(function(t){let e=t,n=!1,i=new Set;return{getState:()=>e,updateState(t){e="function"==typeof t?t(e):t},setState(t){this.updateState(t),i.forEach(t=>t(e))},initialize(t){n||(e=t,n=!0)},subscribe:t=>(i.add(t),()=>i.delete(t))}})({notifications:[],queue:[],limit:5}),u=c(),o=(t=u)=>(0,r.useSyncExternalStore)(t.subscribe,()=>t.getState(),()=>t.getState());function s(t,e){let n=t.getState(),i=e([...n.notifications,...n.queue]);t.setState({notifications:i.slice(0,n.limit),queue:i.slice(n.limit),limit:n.limit})}function a(t,e=u){let n=t.id||(0,i.k)();return s(e,e=>t.id&&e.some(e=>e.id===t.id)?e:[...e,{...t,id:n}]),n}function l(t,e=u){return s(e,e=>e.filter(e=>e.id!==t||(e.onClose?.(e),!1))),t}function d(t,e=u){return s(e,e=>e.map(e=>e.id===t.id?{...e,...t}:e)),t.id}function f(t=u){s(t,()=>[])}function h(t=u){s(t,e=>e.slice(0,t.getState().limit))}let p={show:a,hide:l,update:d,clean:f,cleanQueue:h,updateState:s}}},function(t){t.O(0,[566,425,938,636,663,498,399,443,971,472,744],function(){return t(t.s=27957)}),_N_E=t.O()}]);