(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[940],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},95112:function(t,e,n){Promise.resolve().then(n.bind(n,90082))},90082:function(t,e,n){"use strict";n.r(e);var i=n(57437),o=n(2265),a=n(42180),r=n(95442),s=n.n(r),l=n(14799),u=n(38),c=n(29556),d=n(95416),f=n.n(d),h=n(55029);e.default=()=>{let[t,e]=(0,o.useState)(null),[n,r]=(0,o.useState)(!1),[d,p]=(0,o.useState)({}),[m,g]=(0,o.useState)(""),k=(0,o.useRef)(null),v=(0,o.useRef)(null);var w,y=(0,o.useRef)(null),_=(0,o.useRef)(null);(0,o.useEffect)(()=>{(0,u.Z)(t,e,k),(0,c.M)("VIDEO").then(t=>{let[e,n]=t;y.current=e,_.current=n,console.log(y.current,_.current)}),l.YLj("localstorage://model").then(t=>{console.log("model updated")})},[t]);let S=async()=>{if(y.current&&_.current)try{console.log("In detect");let t=v.current.getContext("2d");t.clearRect(0,0,v.current.width,v.current.height);let e=y.current.detectForVideo(k.current,performance.now()),n=_.current.detectForVideo(k.current,performance.now()),i=new a.ET(t);if(e.landmarks)for(let t of e.landmarks)i.drawLandmarks(t);if(n.landmarks)for(let t of n.landmarks)i.drawLandmarks(t);let[o,r]=(0,c.X)(n,e);r&&(console.log(d,m),d[m].push(o),p(d))}catch(t){console.warn(t);return}},x=()=>{console.log("In START",!0),r(!0);let t=S();console.log(t,!0);let e=setInterval(S,100);console.log(e),w=e},b=()=>{console.log(d),console.log("In STOP detect",!1),r(!1),h.notifications.show({message:"Data regarding ".concat(m," is captured"),withCloseButton:!0,title:"Data captured",color:"green"}),g(""),console.log(w),clearInterval(w),w=null};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{onClick:()=>{console.log(d)},className:f().title,children:"Collect data to train your model"}),(0,i.jsx)("p",{children:"Train your own model to recognise your personalized signs. Training your own model will also result in better recognition of your body style."}),(0,i.jsx)("p",{children:"NOTE: - You must record “ control” sign to make the model work.“ control” sign is just standing still or not showing any sign"}),(0,i.jsx)("p",{children:"After clicking on start capturing, it will stop after 10seconds. If you want to capture more data, click the button again with the same label name"}),(0,i.jsx)("p",{children:"You need to save the data to before proceeding to model train page"}),(0,i.jsxs)("div",{className:f().inputDiv,children:[(0,i.jsx)("input",{type:"text",name:"label",id:"label",value:m,onChange:t=>g(t.target.value),placeholder:"Enter Sing Name"}),(0,i.jsx)("button",{onClick:()=>{if(!m){h.notifications.show({message:"Label cannot be empty",withCloseButton:!0,title:"Error",color:"red"});return}d[m]||(d[m]=[]),console.log(d),x(),setTimeout(b,1e4)},children:n?"Capturing":"Start Capturing"}),(0,i.jsx)("button",{onClick:()=>{localStorage.setItem("trainData",JSON.stringify(d))},children:"Save data"})]}),(0,i.jsxs)("div",{className:f().outputDiv,children:[(0,i.jsxs)("div",{className:s().videoPlayer,children:[(0,i.jsx)("video",{className:"h-full w-full mx-auto",ref:k,autoPlay:!0,muted:!0}),(0,i.jsx)("canvas",{ref:v})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:f().capturedTitle,children:"Captured Data Points(s)"}),(0,i.jsx)("div",{children:Object.keys(d).map((t,e)=>(0,i.jsxs)("p",{children:[t,":",d[t].length]},t+e))})]})]})]})}},38:function(t,e,n){"use strict";async function i(t){try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});t(e)}catch(t){throw alert("Camera is disabled"),t}}async function o(t,e,n){if(t){let e=n.current;if(!e)return;e.srcObject||(e.srcObject=t)}else await i(e);console.log("Working here")}n.d(e,{Z:function(){return o}}),n(2265),n(42180),n(14799)},29556:function(t,e,n){"use strict";n.d(e,{M:function(){return s},X:function(){return l}}),n(2265);var i=n(42180);n(14799),n(38);let o=[];for(let t=0;t<32;t++)o.push(0),o.push(0),o.push(0);let a=o;o=[];for(let t=0;t<20;t++)o.push(0),o.push(0),o.push(0);let r=o,s=async t=>{let e=await i.n.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm"),n=await i.uq.createFromOptions(e,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/latest/hand_landmarker.task",delegate:"GPU"}});n.setOptions({runningMode:t,numHands:2});let o=await i.qe.createFromOptions(e,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/pose_landmarker/pose_landmarker_full/float16/latest/pose_landmarker_full.task",delegate:"GPU"}});return o.setOptions({runningMode:t,numPoses:1}),[n,o]},l=(t,e)=>{let n=!1,i=a;if(t.landmarks.length>0){let e=[];for(let n=0;n<t.landmarks[0].length;n++){let i=t.landmarks[0][n];e.push(i.x),e.push(i.y),e.push(i.z)}i=e,n=!0}let o=r,s=r;if(e.handedness.length>0){let t=[],i=[];for(let n=0;n<e.handedness.length;n++){let o=e.handedness[n][0],a=e.landmarks[n];if("Left"===o.categoryName)for(let e=0;e<a.length;e++){let n=a[e];t.push(n.x),t.push(n.y),t.push(n.z)}else if("Right"===o.categoryName)for(let t=0;t<a.length;t++){let e=a[t];i.push(e.x),i.push(e.y),i.push(e.z)}}t.length&&(o=t),i.length&&(s=i),n=!0}return[[].concat(i,o,s),n]}},95442:function(t){t.exports={videoPlayer:"main_videoPlayer__CokUy"}},95416:function(t){t.exports={title:"train_title__dDPq7",inputDiv:"train_inputDiv__qh0io",outputDiv:"train_outputDiv__CShX8",capturedTitle:"train_capturedTitle___MzWT"}},77499:function(t,e,n){"use strict";function i(){return`mantine-${Math.random().toString(36).slice(2,11)}`}n.d(e,{k:function(){return i}})},55029:function(t,e,n){"use strict";n.r(e),n.d(e,{cleanNotifications:function(){return f},cleanNotificationsQueue:function(){return h},createNotificationsStore:function(){return a},hideNotification:function(){return c},notifications:function(){return p},notificationsStore:function(){return r},showNotification:function(){return u},updateNotification:function(){return d},updateNotificationsState:function(){return l},useNotifications:function(){return s}});var i=n(77499),o=n(2265);let a=()=>(function(t){let e=t,n=!1,i=new Set;return{getState:()=>e,updateState(t){e="function"==typeof t?t(e):t},setState(t){this.updateState(t),i.forEach(t=>t(e))},initialize(t){n||(e=t,n=!0)},subscribe:t=>(i.add(t),()=>i.delete(t))}})({notifications:[],queue:[],limit:5}),r=a(),s=(t=r)=>(0,o.useSyncExternalStore)(t.subscribe,()=>t.getState(),()=>t.getState());function l(t,e){let n=t.getState(),i=e([...n.notifications,...n.queue]);t.setState({notifications:i.slice(0,n.limit),queue:i.slice(n.limit),limit:n.limit})}function u(t,e=r){let n=t.id||(0,i.k)();return l(e,e=>t.id&&e.some(e=>e.id===t.id)?e:[...e,{...t,id:n}]),n}function c(t,e=r){return l(e,e=>e.filter(e=>e.id!==t||(e.onClose?.(e),!1))),t}function d(t,e=r){return l(e,e=>e.map(e=>e.id===t.id?{...e,...t}:e)),t.id}function f(t=r){l(t,()=>[])}function h(t=r){l(t,e=>e.slice(0,t.getState().limit))}let p={show:u,hide:c,update:d,clean:f,cleanQueue:h,updateState:l}}},function(t){t.O(0,[566,425,938,636,663,498,399,443,180,971,472,744],function(){return t(t.s=95112)}),_N_E=t.O()}]);