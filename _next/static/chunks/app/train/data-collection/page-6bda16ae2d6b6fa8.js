(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[940],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},95112:function(e,t,n){Promise.resolve().then(n.bind(n,90082))},90082:function(e,t,n){"use strict";n.r(t);var o=n(57437),i=n(2265),a=n(42180),r=n(95442),s=n.n(r),l=n(14799),u=n(38),c=n(29556),d=n(95416),f=n.n(d),h=n(55029);t.default=()=>{let[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!1),[d,p]=(0,i.useState)({}),[m,g]=(0,i.useState)(""),k=(0,i.useRef)(null),v=(0,i.useRef)(null);var w,y=(0,i.useRef)(null),S=(0,i.useRef)(null);(0,i.useEffect)(()=>{(0,u.Z)(e,t,k),(0,c.M)("VIDEO").then(e=>{let[t,n]=e;y.current=t,S.current=n,console.log(y.current,S.current)}),l.YLj("localstorage://model").then(e=>{console.log("model updated")})},[e]);let _=async()=>{if(y.current&&S.current)try{console.log("In detect");let e=v.current.getContext("2d");e.clearRect(0,0,v.current.width,v.current.height);let t=y.current.detectForVideo(k.current,performance.now()),n=S.current.detectForVideo(k.current,performance.now()),o=new a.ET(e);if(t.landmarks)for(let e of t.landmarks)o.drawLandmarks(e);if(n.landmarks)for(let e of n.landmarks)o.drawLandmarks(e);let[i,r]=(0,c.X)(n,t);r&&(225!=i.length&&console.error("ERROR in length"),console.log(d,m,i.length),d[m].push(i),p(d))}catch(e){console.warn(e);return}},x=()=>{console.log("In START",!0),r(!0);let e=_();console.log(e,!0);let t=setInterval(_,100);console.log(t),w=t},b=()=>{console.log(d),console.log("In STOP detect",!1),r(!1),h.notifications.show({message:"Data regarding ".concat(m," is captured"),withCloseButton:!0,title:"Data captured",color:"green"}),g(""),console.log(w),clearInterval(w),w=null};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{onClick:()=>{console.log(d)},className:f().title,children:"Collect data to train your model"}),(0,o.jsx)("p",{children:"Train your own model to recognise your personalized signs. Training your own model will also result in better recognition of your body style."}),(0,o.jsx)("p",{children:"NOTE: - You must record ‘ control’ sign to make the model work.‘control’ sign is just standing still or not showing any sign"}),(0,o.jsx)("p",{children:"After clicking on start capturing, it will stop after 10seconds. If you want to capture more data, click the button again with the same label name"}),(0,o.jsx)("p",{children:"You need to save the data to before proceeding to model train page"}),(0,o.jsxs)("div",{className:f().inputDiv,children:[(0,o.jsx)("input",{type:"text",name:"label",id:"label",value:m,onChange:e=>g(e.target.value),placeholder:"Enter Sing Name"}),(0,o.jsx)("button",{onClick:()=>{if(!m){h.notifications.show({message:"Label cannot be empty",withCloseButton:!0,title:"Error",color:"red"});return}d[m]||(d[m]=[]),console.log(d),x(),setTimeout(b,1e4)},children:n?"Capturing":"Start Capturing"}),(0,o.jsx)("button",{onClick:()=>{localStorage.setItem("trainData",JSON.stringify(d)),console.log("SAVED")},children:"Save data"})]}),(0,o.jsxs)("div",{className:f().outputDiv,children:[(0,o.jsxs)("div",{className:s().videoPlayer,children:[(0,o.jsx)("video",{className:"h-full w-full mx-auto",ref:k,autoPlay:!0,muted:!0}),(0,o.jsx)("canvas",{ref:v})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:f().capturedTitle,children:"Captured Data Points(s)"}),(0,o.jsx)("div",{children:Object.keys(d).map((e,t)=>(0,o.jsxs)("p",{children:[e,":",d[e].length]},e+t))})]})]})]})}},38:function(e,t,n){"use strict";async function o(e){try{let t=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});e(t)}catch(e){throw alert("Camera is disabled"),e}}async function i(e,t,n){if(e){let t=n.current;if(!t)return;t.srcObject||(t.srcObject=e)}else await o(t);console.log("Working here")}n.d(t,{Z:function(){return i}}),n(2265),n(42180),n(14799)},29556:function(e,t,n){"use strict";n.d(t,{M:function(){return s},X:function(){return l}}),n(2265);var o=n(42180);n(14799),n(38);let i=[];for(let e=0;e<32;e++)i.push(0),i.push(0),i.push(0);let a=i;i=[];for(let e=0;e<21;e++)i.push(0),i.push(0),i.push(0);let r=i,s=async e=>{let t=await o.n.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm"),n=await o.uq.createFromOptions(t,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/latest/hand_landmarker.task",delegate:"GPU"}});n.setOptions({runningMode:e,numHands:2});let i=await o.qe.createFromOptions(t,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/pose_landmarker/pose_landmarker_full/float16/latest/pose_landmarker_full.task",delegate:"GPU"}});return i.setOptions({runningMode:e,numPoses:1}),[n,i]},l=(e,t)=>{let n=!1,o=a;if(e.landmarks.length>0){let t=[];for(let n=0;n<33;n++){let o=e.landmarks[0][n];t.push(o.x),t.push(o.y),t.push(o.z)}o=t,n=!0}let i=r,s=r;if(t.handedness.length>0){let e=[],o=[];for(let n=0;n<t.handedness.length;n++){let i=t.handedness[n][0],a=t.landmarks[n];if("Left"===i.categoryName)for(let t=0;t<21;t++){let n=a[t];e.push(n.x),e.push(n.y),e.push(n.z)}else if("Right"===i.categoryName)for(let e=0;e<21;e++){let t=a[e];o.push(t.x),o.push(t.y),o.push(t.z)}}e.length&&(i=e),o.length&&(s=o),n=!0}return[[].concat(o,i,s),n]}},95442:function(e){e.exports={videoPlayer:"main_videoPlayer__CokUy"}},95416:function(e){e.exports={title:"train_title__dDPq7",inputDiv:"train_inputDiv__qh0io",outputDiv:"train_outputDiv__CShX8",capturedTitle:"train_capturedTitle___MzWT"}},77499:function(e,t,n){"use strict";function o(){return`mantine-${Math.random().toString(36).slice(2,11)}`}n.d(t,{k:function(){return o}})},55029:function(e,t,n){"use strict";n.r(t),n.d(t,{cleanNotifications:function(){return f},cleanNotificationsQueue:function(){return h},createNotificationsStore:function(){return a},hideNotification:function(){return c},notifications:function(){return p},notificationsStore:function(){return r},showNotification:function(){return u},updateNotification:function(){return d},updateNotificationsState:function(){return l},useNotifications:function(){return s}});var o=n(77499),i=n(2265);let a=()=>(function(e){let t=e,n=!1,o=new Set;return{getState:()=>t,updateState(e){t="function"==typeof e?e(t):e},setState(e){this.updateState(e),o.forEach(e=>e(t))},initialize(e){n||(t=e,n=!0)},subscribe:e=>(o.add(e),()=>o.delete(e))}})({notifications:[],queue:[],limit:5}),r=a(),s=(e=r)=>(0,i.useSyncExternalStore)(e.subscribe,()=>e.getState(),()=>e.getState());function l(e,t){let n=e.getState(),o=t([...n.notifications,...n.queue]);e.setState({notifications:o.slice(0,n.limit),queue:o.slice(n.limit),limit:n.limit})}function u(e,t=r){let n=e.id||(0,o.k)();return l(t,t=>e.id&&t.some(t=>t.id===e.id)?t:[...t,{...e,id:n}]),n}function c(e,t=r){return l(t,t=>t.filter(t=>t.id!==e||(t.onClose?.(t),!1))),e}function d(e,t=r){return l(t,t=>t.map(t=>t.id===e.id?{...t,...e}:t)),e.id}function f(e=r){l(e,()=>[])}function h(e=r){l(e,t=>t.slice(0,e.getState().limit))}let p={show:u,hide:c,update:d,clean:f,cleanQueue:h,updateState:l}}},function(e){e.O(0,[566,425,938,636,663,498,399,443,180,971,472,744],function(){return e(e.s=95112)}),_N_E=e.O()}]);